interactions:
- request:
    body: '{"project_id": "11111111-1111-1111-1111-111111111111", "type": "kapsule",
      "description": "", "version": "1.32.7", "cni": "cilium", "name": "k8s-beautiful-hawking",
      "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d"}'
    headers:
      Content-Length:
      - '225'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: POST
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:26.472274Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "creating", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "", "new_images_enabled": false, "pod_cidr": "", "service_cidr": "", "service_dns_ip":
        ""}'
    headers:
      content-length:
      - '1477'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:26 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge03)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - e758dd85-acdf-4e60-a4ac-1c3816ed7630
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters?organization_id=11111111-1111-1111-1111-111111111111&project_id=11111111-1111-1111-1111-111111111111
  response:
    body:
      string: '{"total_count": 2, "clusters": [{"region": "fr-par", "id": "f4295f3a-a0cf-46b6-bbd5-f66cec577157",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-07-08T14:21:44.277886Z", "updated_at": "2025-07-08T14:23:13.718889Z",
        "type": "kapsule", "name": "tf-cluster", "description": "", "status": "ready",
        "version": "1.32.3", "cni": "cilium", "tags": [], "cluster_url": "https://f4295f3a-a0cf-46b6-bbd5-f66cec577157.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.f4295f3a-a0cf-46b6-bbd5-f66cec577157.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        0, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 0}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        true, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "83d5c670-96a1-40cd-bacd-151e64e8ce52", "commitment_ends_at":
        "2025-07-08T14:21:44.277897Z", "acl_available": true, "iam_nodes_group_id":
        "f739c69c-2ab9-4c6d-96f9-e6649f701680", "new_images_enabled": false, "pod_cidr":
        "", "service_cidr": "", "service_dns_ip": ""}, {"region": "fr-par", "id":
        "c02a1a4f-3124-4171-906a-3a04d3bd36a3", "organization_id": "11111111-1111-1111-1111-111111111111",
        "project_id": "11111111-1111-1111-1111-111111111111", "created_at": "2025-08-29T07:51:26.472274Z",
        "updated_at": "2025-08-29T07:51:26.472274Z", "type": "kapsule", "name": "k8s-beautiful-hawking",
        "description": "", "status": "creating", "version": "1.32.7", "cni": "cilium",
        "tags": [], "cluster_url": "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "", "new_images_enabled": true, "pod_cidr": "", "service_cidr": "", "service_dns_ip":
        ""}]}'
    headers:
      content-length:
      - '3002'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:26 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge01)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - b7bcb4c1-ff59-4c6e-ad07-5f6133e82a30
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: DELETE
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3?with_additional_resources=True
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:26.791670Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "deleting", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "", "new_images_enabled": false, "pod_cidr": "", "service_cidr": "", "service_dns_ip":
        ""}'
    headers:
      content-length:
      - '1477'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:26 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge01)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 9fef0ea8-68a4-4e90-a825-ed26a65750df
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:27.169657Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "deleting", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "973666b0-e393-4f24-a27f-d90f56f822a0", "new_images_enabled": true, "pod_cidr":
        "", "service_cidr": "", "service_dns_ip": ""}'
    headers:
      content-length:
      - '1512'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:27 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge03)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - f4119e00-b4d9-4635-a91b-c88310bc7f56
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:27.169657Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "deleting", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "973666b0-e393-4f24-a27f-d90f56f822a0", "new_images_enabled": true, "pod_cidr":
        "", "service_cidr": "", "service_dns_ip": ""}'
    headers:
      content-length:
      - '1512'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:29 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 9ada8732-d0d8-43e9-b401-57a2edced2de
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:27.169657Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "deleting", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "973666b0-e393-4f24-a27f-d90f56f822a0", "new_images_enabled": true, "pod_cidr":
        "", "service_cidr": "", "service_dns_ip": ""}'
    headers:
      content-length:
      - '1512'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:31 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - fad95068-9e7f-4664-98d0-f306a9f6b32e
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3
  response:
    body:
      string: '{"region": "fr-par", "id": "c02a1a4f-3124-4171-906a-3a04d3bd36a3",
        "organization_id": "11111111-1111-1111-1111-111111111111", "project_id": "11111111-1111-1111-1111-111111111111",
        "created_at": "2025-08-29T07:51:26.472274Z", "updated_at": "2025-08-29T07:51:27.169657Z",
        "type": "kapsule", "name": "k8s-beautiful-hawking", "description": "", "status":
        "deleting", "version": "1.32.7", "cni": "cilium", "tags": [], "cluster_url":
        "https://c02a1a4f-3124-4171-906a-3a04d3bd36a3.api.k8s.fr-par.scw.cloud:6443",
        "dns_wildcard": "*.c02a1a4f-3124-4171-906a-3a04d3bd36a3.nodes.k8s.fr-par.scw.cloud",
        "autoscaler_config": {"scale_down_disabled": false, "scale_down_delay_after_add":
        "10m", "estimator": "binpacking", "expander": "random", "ignore_daemonsets_utilization":
        false, "balance_similar_node_groups": false, "expendable_pods_priority_cutoff":
        -10, "scale_down_unneeded_time": "10m", "scale_down_utilization_threshold":
        0.5, "max_graceful_termination_sec": 600}, "auto_upgrade": {"enabled": false,
        "maintenance_window": {"start_hour": 0, "day": "any"}}, "upgrade_available":
        false, "feature_gates": [], "admission_plugins": [], "open_id_connect_config":
        {"issuer_url": "", "client_id": "", "username_claim": "", "username_prefix":
        "", "groups_claim": [], "groups_prefix": "", "required_claim": []}, "apiserver_cert_sans":
        [], "private_network_id": "16c77cfd-c818-4312-ae96-32b0e5a16d3d", "commitment_ends_at":
        "2025-08-29T07:51:26.472301Z", "acl_available": true, "iam_nodes_group_id":
        "973666b0-e393-4f24-a27f-d90f56f822a0", "new_images_enabled": true, "pod_cidr":
        "", "service_cidr": "", "service_dns_ip": ""}'
    headers:
      content-length:
      - '1512'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:37 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - e4a8593d-8b83-4816-af5a-5c0be0295c80
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Content-Length:
      - '2'
      user-agent:
      - scaleway-sdk-python/2.0.0
    method: GET
    uri: https://api.scaleway.com/k8s/v1/regions/fr-par/clusters/c02a1a4f-3124-4171-906a-3a04d3bd36a3
  response:
    body:
      string: '{"message": "resource is not found", "resource": "cluster", "resource_id":
        "c02a1a4f-3124-4171-906a-3a04d3bd36a3", "type": "not_found"}'
    headers:
      content-length:
      - '128'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Fri, 29 Aug 2025 07:51:46 GMT
      server:
      - Scaleway API Gateway (fr-par-2;edge01)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 2187f598-27bf-4435-b7f8-5e8d60be7492
    status:
      code: 404
      message: Not Found
version: 1
